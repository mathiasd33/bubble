{% extends 'user/base.html.twig' %}

   {% block metaTitle %}
       Liste des articles
   {% endblock metaTitle %}

{% block main %}

    <h1 class="titreCategories" >Vous avez {{ articles | length }} articles dans votre espace</h1>
    <div class="categories">
        {% for article in articles %}
            {% if article.published %}
                <div class="categorie">
                    {# je génère un lien vers la route articleshow cette route
                    demande une wildcard 'id', donc je l'a renseigne avec l id de l'article bouclé#}


                    <a href="{{ path('user_article_show',{'id':article.id}) }}"><img src="{{ asset('uploads/' ~ article.image) }}" /></a>
                    <h1>{{article.title}}</h1>
                    <h2>{{article.content}}</h2>
                    <p><a href={{ path ('user_article_update',{'id' : article.id}) }} >modifier</a></p>
                    <p><a href={{ path ('user_article_delete',{'id' : article.id}) }} >supprimer</a></p>
                </div>
            {% endif %}
        {% endfor %}

    </div>

    <h2 class="insert"><a href={{ path('user_article_insert') }}>Ajouter un article</a></h2>
{% endblock main %}